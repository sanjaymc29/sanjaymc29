#program:
class Student:
    file_name = "students.txt"

    # Add student
    def add_student(self):
        name = input("Enter student name: ")
        roll = input("Enter roll number: ")
        marks = input("Enter marks: ")

        with open(self.file_name, "a") as f:
            f.write(name + "," + roll + "," + marks + "\n")

        print("Student added successfully\n")

    # View all students
    def view_students(self):
        try:
            with open(self.file_name, "r") as f:
                data = f.readlines()
                if not data:
                    print("No records found\n")
                else:
                    print("\nStudent Records:")
                    for line in data:
                        name, roll, marks = line.strip().split(",")
                        print(f"Name: {name}, Roll: {roll}, Marks: {marks}")
                    print()
        except FileNotFoundError:
            print("File not found\n")

    # Search student
    def search_student(self):
        roll_search = input("Enter roll number to search: ")
        found = False

        try:
            with open(self.file_name, "r") as f:
                for line in f:
                    name, roll, marks = line.strip().split(",")
                    if roll == roll_search:
                        print(f"Student Found -> Name: {name}, Marks: {marks}\n")
                        found = True
                        break

            if not found:
                print("Student not found\n")
        except FileNotFoundError:
            print("File not found\n")

    # Delete student
    def delete_student(self):
        roll_delete = input("Enter roll number to delete: ")
        found = False

        try:
            with open(self.file_name, "r") as f:
                lines = f.readlines()

            with open(self.file_name, "w") as f:
                for line in lines:
                    name, roll, marks = line.strip().split(",")
                    if roll != roll_delete:
                        f.write(line)
                    else:
                        found = True

            if found:
                print("Student deleted successfully\n")
            else:
                print("Student not found\n")
        except FileNotFoundError:
            print("File not found\n")


# Main program
obj = Student()

while True:
    print("====== Student Management System ======")
    print("1. Add Student")
    print("2. View Students")
    print("3. Search Student")
    print("4. Delete Student")
    print("5. Exit")

    choice = input("Enter your choice: ")

    if choice == "1":
        obj.add_student()
    elif choice == "2":
        obj.view_students()
    elif choice == "3":
        obj.search_student()
    elif choice == "4":
        obj.delete_student()
    elif choice == "5":
        print("Exiting program...")
        break
    else:
        print("Invalid choice\n")

